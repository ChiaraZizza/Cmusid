Purpose and Impact

  The purpose of our project is to organize music for people who have unorganized music. CD rips and questionably downloaded music files tend to lack the metadata that allows it to be displayed nicely in music players like iTunes and cmus. "Untitled Track 01" is not an acceptable solution to a lack of metadata. This project seeks to use AcoustId's Chromaprint library to fingerprint audio files and query for relevant metadata. The program will then insert the metadata in the correct format, and rename the file according to a predetermined form.

How does it span the two key areas

  Mapping the fingerprinting functionality over the entire input directory implies an embarrassingly parallel pipeline. We will integrate concurrency at the lowest level and thus satisfy the "Concurrency on the CPU" core area.

  Our project demonstrates our understanding of persistence through creation and modification of audio files and hierarchical directories. Thus, we satisfy the "Persistence" core area.

Rough Implementation Plan

  1. Read FLAC files from input directory.
  2. Fingerprint the files in parallel.
    * Using the `chromaprint` wrapper crate, we can generate AcoustId fingerprints which can be used in step 3. These first two steps are embarassingly parallel.  
  3. Use audio fingerprints to query metadata from the AcoustId service. 
    * We will use a Rust HTTP client crate to communicate and a JSON parsing crate to interpret the response
  4. Insert metadata into FLAC files using Vorbis comments.
    * Unlike MP3 files, which conventionally use ID3 tags for metadata, FLAC should use Vorbis comments to store information like artist, album, track name, and album cover.
  5. Output correctly-labelled files into output directory, organized in a defined way.
    * In its simpliest form, we can output all files into one directory in the form `%artist-%album-%track.flac`
    * If time permits, we would want to make a config file which would allow a user to specify their organizational scheme
    * Sub-directories would also be nice, e.g. `%artist -> (%year) %album -> %tracknumber_%trackname`
